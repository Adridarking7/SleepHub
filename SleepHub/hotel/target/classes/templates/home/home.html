<style>
    .btn-ver-mas {
        background-color: #1e3d59;
        color: white;
        padding: 10px 25px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        border: 2px solid #cda34f;
        transition: background-color 0.3s ease;
    }

    .btn-ver-mas:hover {
        background-color: #cda34f;
        color: #1e3d59;
    }

    table.display {
        width: 100%;
        /* Ancho completo */
        table-layout: fixed;
        /* Columnas proporcionales */
        border-collapse: collapse;
        margin-top: 20px;
    }

    table.display th,
    table.display td {
        padding: 14px 16px;
        font-size: 17px;
        word-wrap: break-word;
    }

    table.display thead th:nth-child(1) {
        width: 30%;
        /* columna vacía o carousel */
    }

    table.display thead th:nth-child(2) {
        width: 15%;
        /* imágenes */
    }

    table.display thead th:nth-child(3) {
        width: 25%;
        /* descripción */
    }

    table.display thead th:nth-child(4) {
        width: 15%;
        /* capacidad */
    }

    table.display thead th:nth-child(5) {
        width: 15%;
        /* precio */
    }

    table.display th {
        background-color: #1e3d59;
        color: white;
        font-weight: 600;
    }

    table.display tbody tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    table.display tbody tr:hover {
        background-color: #f7e9c7;
    }

    .carousel-container {
        position: relative;
        max-width: 320px;
        overflow: hidden;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    .carousel-images {
        display: flex;
        transition: transform 0.3s ease;
        width: 100%;
        height: 220px;
    }

    .carousel-images img {
        flex-shrink: 0;
        width: 320px;
        height: 220px;
        object-fit: cover;
        user-select: none;
        border-radius: 12px 12px 0 0;
    }

    .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(30, 61, 89, 0.7);
        color: white;
        border: none;
        padding: 4px 10px;
        cursor: pointer;
        font-size: 18px;
        border-radius: 3px;
        user-select: none;
    }

    .carousel-btn.prev {
        left: 5px;
    }

    .carousel-btn.next {
        right: 5px;
    }

    .hero-section {
        position: relative;
        background-image: url('/img/hero-fondo.png');
        background-size: cover;
        background-position: center;
        height: 350px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        margin-top: 0px;
    }

    .hero-overlay {
        background-color: rgba(0, 0, 0, 0.5);
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 1.2s ease-in-out;
    }

    .hero-content {
        text-align: center;
        color: white;
        padding: 20px;
        max-width: 800px;
        animation: slideUp 1s ease-out;
    }

    .hero-content h1 {
        font-size: 40px;
        margin-bottom: 15px;
        color: #cda34f;
    }

    .hero-content p {
        font-size: 18px;
        line-height: 1.6;
    }

    .contacto-section {
        padding: 40px;
        background-color: #f5f5f5;
    }

    .contacto-container {
        display: flex;
        justify-content: space-between;
        gap: 40px;
        flex-wrap: wrap;
    }

    .contacto-info,
    .contacto-container form {
        flex: 1 1 45%;
        background-color: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .contacto-info h4 {
        margin-bottom: 15px;
    }

    .form-group {
        margin-bottom: 15px;
    }

    input,
    textarea {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    button[type="submit"] {
        background-color: #1e3d59;
        color: white;
        border: none;
        padding: 12px 20px;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes slideUp {
        from {
            transform: translateY(30px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* RESPONSIVE PARA DISPOSITIVOS MÓVILES */
    @media (max-width: 768px) {
        .room-description {
            flex-direction: column;
            align-items: flex-start;
        }

        .carousel-container {
            max-width: 100%;
        }

        .contacto-container {
            flex-direction: column;
        }
    }

    .whatsapp-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #25D366;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        transition: background-color 0.3s ease;
        cursor: pointer;
    }

    .whatsapp-btn img {
        width: 35px;
        height: 35px;
    }

    .whatsapp-btn:hover {
        background-color: #128C7E;
    }
</style>

<body>
    <!-- Encabezado de presentación del hotel -->
    <section class="hero-section">
        <div class="hero-overlay">
            <div class="hero-content">
                <h1>SleepHub</h1>
                <p>
                    Un hotel moderno, elegante y equipado con todo lo necesario para una estancia cómoda y placentera.
                    Disfruta de nuestras habitaciones premium en el corazón de <strong>Madrid</strong>.
                </p>
            </div>
        </div>
    </section>

    <!-- Sección de características del hotel -->
    <a href="/servicios" style="text-decoration: none; color: inherit;">
        <section style="background-color: #f9f9f9; padding: 40px 20px; cursor: pointer;">
            <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
                <h2 style="color: #1e3d59; margin-bottom: 20px;">¿Por qué elegirnos?</h2>
                <p style="color: #555; font-size: 18px; margin-bottom: 30px;">
                    En SleepHub, te ofrecemos todo lo que necesitas para una experiencia inolvidable.
                </p>
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px;">
                    <div style="max-width: 220px; text-align: center;">
                        <img src="/img/icons/icon-wifi.png" alt="Wifi gratis" width="60" style="margin-bottom: 10px;">
                        <h4 style="color: #cda34f;">Wi-Fi Gratis</h4>
                        <p style="color: #666;">Conéctate en todo el hotel con alta velocidad.</p>
                    </div>
                    <div style="max-width: 220px; text-align: center;">
                        <img src="/img/icons/icon-desayuno.png" alt="Desayuno incluido" width="60"
                            style="margin-bottom: 10px;">
                        <h4 style="color: #cda34f;">Desayuno Incluido</h4>
                        <p style="color: #666;">Empieza tu día con energía y sabor.</p>
                    </div>
                    <div style="max-width: 220px; text-align: center;">
                        <img src="/img/icons/icon-parking.png" alt="Parking" width="60" style="margin-bottom: 10px;">
                        <h4 style="color: #cda34f;">Parking Privado</h4>
                        <p style="color: #666;">Aparca sin preocupaciones durante tu estancia.</p>
                    </div>
                    <div style="max-width: 220px; text-align: center;">
                        <img src="/img/icons/icon-gym.png" alt="Gimnasio" width="60" style="margin-bottom: 10px;">
                        <h4 style="color: #cda34f;">Gimnasio 24h</h4>
                        <p style="color: #666;">Mantente en forma con nuestro equipamiento moderno.</p>
                    </div>
                </div>
            </div>
        </section>
    </a>

    <section class="habitaciones-section">

        <!-- Habitaciones Individuales -->
        <div th:if="${habIndividual != null}" class="table-container" id="habitaciones-individuales">
            <h2><strong>Habitaciones Individuales</strong></h2>
            <div style="display: flex; align-items: center; gap: 10px; margin: 20px 0;">
                <i class="bi bi-person-fill" style="font-size: 1.6rem; color: #1e3d59;"></i>
                <p style="margin: 0; font-size: 1rem; color: #333;">
                    Ideales para viajeros solos. Compactas, confortables y económicas. Incluyen escritorio, baño privado
                    y wifi gratis.
                </p>
            </div>

            <table id="tabla-individual" class="display" style="width: 100%; table-layout: fixed;">
                <thead>
                    <tr>
                        <th></th>
                        <th>Imágenes</th>
                        <th>Descripción</th>
                        <th>Capacidad</th>
                        <th>Precio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="carousel-container" style="position: relative;">
                                <div class="carousel-images" style="overflow: hidden; white-space: nowrap;">
                                    <img th:if="${#lists.isEmpty(habIndividual.imagenes)}"
                                        th:src="@{/img/habitacion-default.jpg}" alt="Imagen por defecto"
                                        style="width: 100%; display: inline-block;" />
                                    <img th:each="img : ${habIndividual.imagenes}" th:src="@{${img.url}}"
                                        alt="Imagen habitación" style="width: 100%; display: inline-block;" />
                                </div>
                                <button class="carousel-btn prev" type="button"
                                    style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&lt;</button>
                                <button class="carousel-btn next" type="button"
                                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&gt;</button>
                            </div>
                        </td>
                        <td th:text="${habIndividual.descripcion}"></td>
                        <td th:text="${habIndividual.capacidad} + ' persona'"></td>
                        <td th:text="${habIndividual.precio} + ' €/noche'"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Habitaciones Dobles -->
        <div th:if="${habDoble != null}" class="table-container" style="margin-top: 2rem;">
            <h2><strong>Habitaciones Dobles</strong></h2>
            <div style="display: flex; align-items: center; gap: 10px; margin: 20px 0;">
                <i class="bi bi-people-fill" style="font-size: 1.6rem; color: #1e3d59;"></i>
                <p style="margin: 0; font-size: 1rem; color: #333;">
                    Perfectas para parejas o amigos. Espaciosas, con cama doble o dos individuales, desayuno incluido y
                    TV HD.
                </p>
            </div>
            <table id="tabla-doble" class="display" style="width: 100%; table-layout: fixed;">
                <thead>
                    <tr>
                        <th></th>
                        <th>Imágenes</th>
                        <th>Descripción</th>
                        <th>Capacidad</th>
                        <th>Precio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="carousel-container" style="position: relative;">
                                <div class="carousel-images" style="overflow: hidden; white-space: nowrap;">
                                    <img th:if="${#lists.isEmpty(habDoble.imagenes)}"
                                        th:src="@{/img/habitacion-default.jpg}" alt="Imagen por defecto"
                                        style="width: 100%; display: inline-block;" />
                                    <img th:each="img : ${habDoble.imagenes}" th:src="@{${img.url}}"
                                        alt="Imagen habitación" style="width: 100%; display: inline-block;" />
                                </div>
                                <button class="carousel-btn prev" type="button"
                                    style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&lt;</button>
                                <button class="carousel-btn next" type="button"
                                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&gt;</button>
                            </div>
                        </td>
                        <td th:text="${habDoble.descripcion}"></td>
                        <td th:text="${habDoble.capacidad} + ' personas'"></td>
                        <td th:text="${habDoble.precio} + ' €/noche'"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Suites -->
        <div th:if="${habSuite != null}" class="table-container" style="margin-top: 2rem;">
            <h2><strong>Suites</strong></h2>
            <div style="display: flex; align-items: center; gap: 10px; margin: 20px 0;">
                <i class="bi bi-gem" style="font-size: 1.6rem; color: #cda34f;"></i>
                <p style="margin: 0; font-size: 1rem; color: #333;">
                    Experiencia premium. Suite con salón privado, cama king-size, jacuzzi, y acceso VIP al gimnasio y
                    minibar.
                </p>
            </div>

            <table id="tabla-suite" class="display" style="width: 100%; table-layout: fixed;">
                <thead>
                    <tr>
                        <th></th>
                        <th>Imágenes</th>
                        <th>Descripción</th>
                        <th>Capacidad</th>
                        <th>Precio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="carousel-container" style="position: relative;">
                                <div class="carousel-images" style="overflow: hidden; white-space: nowrap;">
                                    <img th:if="${#lists.isEmpty(habSuite.imagenes)}"
                                        th:src="@{/img/habitacion-default.jpg}" alt="Imagen por defecto"
                                        style="width: 100%; display: inline-block;" />
                                    <img th:each="img : ${habSuite.imagenes}" th:src="@{${img.url}}"
                                        alt="Imagen habitación" style="width: 100%; display: inline-block;" />
                                </div>
                                <button class="carousel-btn prev" type="button"
                                    style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&lt;</button>
                                <button class="carousel-btn next" type="button"
                                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); z-index: 10;">&gt;</button>
                            </div>
                        </td>
                        <td th:text="${habSuite.descripcion}"></td>
                        <td th:text="${habSuite.capacidad} + ' personas'"></td>
                        <td th:text="${habSuite.precio} + ' €/noche'"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <div
        style="text-align: center; margin-top: 20px; background-color: #1e3d59; color: white; padding: 20px; border-radius: 8px;">
        <a href="/habitacion/todas" class="ver-mas-btn" style="color: white;">Ver más habitaciones</a>
    </div>

    <!-- Contacto -->
    <section id="contacto" class="contacto-section">
        <h3>Contacto</h3>
        <div class="contacto-container">
            <div class="contacto-info">
                <h4>Información de contacto</h4>
                <p><strong>Dirección:</strong> Calle Vallecas, 123, 28031 Madrid</p>
                <p><strong>Teléfono:</strong> +34 912 345 678</p>
                <p><strong>Email:</strong> sleephub3@gmail.com</p>
                <p><strong>Horario:</strong> Recepción 24 horas</p>
            </div>

            <form action="/contacto/enviar" method="post">
                <div class="form-group">
                    <input type="text" name="nombre" placeholder="Nombre" required />
                </div>
                <div class="form-group">
                    <input type="email" name="email" placeholder="Email" required />
                </div>
                <div class="form-group">
                    <input type="tel" name="telefono" placeholder="Teléfono" />
                </div>
                <div class="form-group">
                    <textarea name="mensaje" placeholder="Tu mensaje" rows="5" required></textarea>
                </div>
                <button type="submit">Enviar mensaje</button>
            </form>
        </div>
    </section>

    <div id="popup" style="
        display:none;
        position: fixed;
        top: 30%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #4CAF50;
        color: white;
        padding: 20px 40px;
        border-radius: 8px;
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
        font-size: 18px;
        z-index: 1000;">
        ¡Mensaje enviado con éxito!
    </div>

    <!-- Botón flotante de WhatsApp -->
    <a href="https://wa.me/34600111222?text=Hola%20quiero%20más%20información" target="_blank" class="whatsapp-btn"
        aria-label="Contactar por WhatsApp">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
    </a>

    <script>
    document.querySelectorAll('.carousel-container').forEach(carousel => {
        const images = carousel.querySelectorAll('img');
        let index = 0;

        function showImage(i) {
            images.forEach((img, idx) => {
                img.style.display = (idx === i) ? 'inline-block' : 'none';
            });
        }

        carousel.querySelector('.prev').addEventListener('click', () => {
            index = (index - 1 + images.length) % images.length;
            showImage(index);
        });

        carousel.querySelector('.next').addEventListener('click', () => {
            index = (index + 1) % images.length;
            showImage(index);
        });

        showImage(index); // Muestra la primera al inicio
    });
</script>


    <script>
        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('enviado') === 'true') {
                const popup = document.getElementById('popup');
                popup.style.display = 'block';

                // Quitamos el parámetro 'enviado' de la URL para evitar que se repita al actualizar
                const newUrl = window.location.origin + window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);

                setTimeout(() => {
                    popup.style.display = 'none';
                }, 3000); // Oculta el popup tras 3 segundos
            }
        };
    </script>

    <script>
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        window.onbeforeunload = function () {
            window.scrollTo(0, 0);
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</body>